<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My iMall Activity - La Familia Chambers</title>
    <meta name="description" content="View your iMall wishlist, cart, and recent activity.">
    <link rel="icon" href="images/favicon.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/imall.css">
    <style>
        /* Custom styles for the Inter font */
        body {
            font-family: "Inter", sans-serif;
        }
        /* Notification message animation */
        .notification-fade-out {
            animation: fadeOut 3s forwards;
        }
        @keyframes fadeOut {
            0% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; display: none; }
        }

        /* Styles for sticky headers and main content offset */
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 50; /* Ensure main header is on top */
        }
        #imall-subheader {
            position: sticky;
            top: 0; /* Will be set by JavaScript dynamically */
            z-index: 40; /* Ensure iMall subheader is below main header but above content */
        }
        #imall-my-activity-main-content {
            padding-top: 0; /* Will be set by JavaScript dynamically */
        }

        /* Categories Dropdown Styles */
        .categories-dropdown {
            display: none; /* Hidden by default */
            position: absolute;
            background-color: #f9f9f9;
            min-width: 200px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
            padding: 12px 0;
            border-radius: 8px;
            top: 100%; /* Position below the link */
            left: 0;
            opacity: 0; /* For fade effect */
            visibility: hidden; /* For screen readers and initial state */
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .categories-dropdown.show {
            display: block; /* Show when 'show' class is present */
            opacity: 1;
            visibility: visible;
        }

        /* Tab styles */
        .tab-button.active {
            border-bottom: 3px solid #3B82F6; /* Blue-500 */
            color: #3B82F6;
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }

        /* Checkout Modal Styles */
        .checkout-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .checkout-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        .checkout-modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); /* shadow-2xl */
            width: 90%;
            max-width: 600px;
            max-height: 90vh; /* Limit height for scrollability */
            overflow-y: auto; /* Enable scrolling if content overflows */
            position: relative;
        }
        .checkout-modal-close-btn {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #6B7280; /* gray-500 */
        }
        .checkout-step {
            display: none;
        }
        .checkout-step.active {
            display: block;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100 antialiased">

<header id="main-header" class="sticky-header">
    <div class="header-top">
        <div class="site-branding">
            <a href="index.html">
                <img src="images/lafamilialogo.webp" onerror="this.onerror=null; this.src='https://placehold.co/40x40/FF0000/FFFFFF?text=Logo';" alt="La Familia Chambers Logo" class="logo">
                <h1>La Familia Chambers</h1>
            </a>
        </div>
        <div class="header-controls">
            <a href="join.html" class="join-header-cta">Join La Familia</a>
            <button id="search-toggle" aria-label="Toggle Search Bar">
                <i class="fas fa-search"></i>
            </button>
            <button id="mode-toggle" aria-label="Toggle Dark/Light Mode">
                <i class="fas fa-moon"></i>
            </button>
            <button id="hamburger-menu" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </div>

    <div id="search-bar-container" class="search-bar-hidden">
        <div class="search-input-wrapper">
            <input type="search" id="site-search" placeholder="Search businesses, events, news..." aria-label="Site Search">
            <button id="search-submit-btn" class="search-control-btn" aria-label="Submit Global Search"><i class="fas fa-search"></i></button>
            <button id="search-clear-btn" class="search-control-btn" aria-label="Clear Search Input"><i class="fas fa-times"></i></button>
            <button id="search-mic-btn" class="search-control-btn" aria-label="Search with Voice"><i class="fas fa-microphone"></i></button>
        </div>
        <div class="search-filters">
            <select id="search-type-filter" aria-label="Filter by Category">
                <option value="all">All Categories</option>
                <option value="businesses">Businesses</option>
                <option value="events">Events</option>
                <option value="news">News</option>
            </select>
            <select id="search-location-filter" aria-label="Filter by Location">
                <option value="all">All Locations</option>
                <option value="nairobi">Nairobi</option>
                <option value="mlolongo">Mlolongo</option>
            </select>
        </div>
        <div id="search-suggestions" class="search-suggestions"></div>
        <div id="search-history" class="search-history"></div>
    </div>
    <nav id="main-nav" class="main-nav-closed">
        <ul class="nav-list">
            <li><a href="index.html">Home</a></li>
            <li><a href="discover.html">Discover Nairobi</a></li>
            <li><a href="directory.html">Member Directory</a></li>
            <li><a href="awards.html">Awards & Recognition</a></li>
            <li><a href="blog.html">Business Blog</a></li>
            <li><a href="clubs.html">Member Clubs</a></li>
            <li><a href="events.html">Events Calendar</a></li>
            <li><a href="reviews.html">Member Reviews</a></li>
            <li><a href="board.html">Board of Directors</a></li>
            <li><a href="about.html">About Us</a></li>
        </ul>
    </nav>
</header>

<!-- iMall Subheader (Integrated) -->
<nav id="imall-subheader" class="bg-white shadow-md py-3 px-6 rounded-b-lg">
    <div class="container mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
        <!-- iMall Logo and Name -->
        <a href="/imall.html" class="flex items-center space-x-2 flex-shrink-0">
            <img src="images/imall-logo.webp" onerror="this.onerror=null; this.src='https://placehold.co/40x40/FF0000/FFFFFF?text=Logo';" alt="iMall Logo" class="h-10 w-10 rounded-full">
            <span class="text-2xl font-extrabold text-gray-800">iMall</span>
        </a>

        <!-- Search Bar with Suggestions -->
        <div class="relative w-full md:w-auto flex-grow md:flex-grow-0 max-w-lg flex">
            <input type="text" id="imall-search-input" placeholder="Search products or brands..." class="w-full pl-10 pr-4 py-2 rounded-l-full border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-gray-700">
            <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
            <button id="imall-search-button" class="bg-blue-500 hover:bg-blue-600 text-white px-4 rounded-r-full transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                Search
            </button>
            <div id="imall-search-suggestions" class="search-suggestions-container">
                <!-- Suggestions will be dynamically inserted here -->
            </div>
        </div>

        <!-- Horizontal Navigation Links -->
        <div class="flex items-center space-x-6 text-lg font-medium">
            <!-- Categories Dropdown -->
            <div class="relative group">
                <a href="#" id="categories-nav-link" class="text-gray-700 hover:text-blue-600 transition-colors duration-200 block py-1">Categories</a>
                <div id="categories-dropdown" class="categories-dropdown">
                    <a href="./imall-category.html?category=all" class="font-bold">All Categories</a>
                    <!-- Dynamic categories will be inserted here -->
                </div>
            </div>

            <a href="./imall-category.html?section=brands" id="brands-nav-link" class="text-gray-700 hover:text-blue-600 transition-colors duration-200 block py-1">Brands</a>
            <a href="./imall-category.html?section=deals" id="deals-nav-link" class="text-gray-700 hover:text-blue-600 transition-colors duration-200 block py-1">Deals</a>
            <a href="./imall-category.html?section=new-arrivals" id="new-arrivals-nav-link" class="text-gray-700 hover:text-blue-600 transition-colors duration-200 block py-1">New Arrivals</a>

            <!-- Profile Icon -->
            <a href="./imall-my-activity.html" class="text-gray-600 hover:text-gray-900 focus:outline-none">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                </svg>
            </a>

            <!-- Cart Icon with Count -->
            <a href="./imall-my-activity.html" class="relative text-gray-600 hover:text-gray-900 focus:outline-none">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-7 w-7"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                    stroke-width="2"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5H1m4 8v.01M17 13v.01M17 18H9.01M17 18l-2.68-2.68c-.29-.29-.77-.29-1.06 0L10 18m-4 0h8"
                    />
                </svg>
                <span id="cart-item-count" class="absolute -top-2 -right-2 bg-blue-500 text-white text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center hidden">
                    0
                </span>
            </a>
        </div>
    </div>
</nav>

<!-- Notification Message (for Add to Cart feedback) -->
<div id="notification-message" class="fixed top-32 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 opacity-0 transition-opacity duration-300">
    <!-- Message will be inserted here by JavaScript -->
</div>

<main id="imall-my-activity-main-content" class="container mx-auto p-6">
    <h1 class="text-4xl font-extrabold text-gray-900 text-center mb-8">My iMall Activity</h1>

    <!-- Tabs for Cart and Wishlist -->
    <div class="flex justify-center mb-8">
        <button id="cart-tab-button" class="tab-button px-6 py-3 text-lg text-gray-700 hover:text-blue-600 transition-colors duration-200 active">My Cart</button>
        <button id="wishlist-tab-button" class="tab-button px-6 py-3 text-lg text-gray-700 hover:text-blue-600 transition-colors duration-200">My Wishlist</button>
    </div>

    <!-- Cart Content -->
    <section id="cart-content" class="tab-content active bg-white rounded-xl shadow-lg p-6 mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">Shopping Cart</h2>
        <div id="cart-items-container" class="space-y-6">
            <!-- Cart items will be dynamically loaded here -->
            <p class="text-gray-600 text-center" id="empty-cart-message">Your cart is empty.</p>
        </div>
        <div id="cart-summary" class="mt-8 pt-6 border-t border-gray-200 flex flex-col md:flex-row justify-between items-end">
            <div class="text-2xl font-bold text-gray-800">
                Total: $<span id="cart-total">0.00</span>
            </div>
            <button id="checkout-button" class="mt-4 md:mt-0 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition-colors duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-75">
                Proceed to Checkout
            </button>
        </div>
    </section>

    <!-- Wishlist Content -->
    <section id="wishlist-content" class="tab-content bg-white rounded-xl shadow-lg p-6 mb-12">
        <h2 class="text-3xl font-bold text-gray-800 mb-6">My Wishlist</h2>
        <div id="wishlist-items-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <!-- Wishlist items will be dynamically loaded here -->
            <p class="text-gray-600 text-center col-span-full" id="empty-wishlist-message">Your wishlist is empty.</p>
        </div>
    </section>
</main>

<!-- Checkout Modal -->
<div id="checkout-modal-overlay" class="checkout-modal-overlay">
    <div class="checkout-modal-content">
        <button id="checkout-modal-close-btn" class="checkout-modal-close-btn">&times;</button>
        <h2 class="text-3xl font-bold text-gray-800 mb-6 text-center">Checkout</h2>

        <!-- Checkout Steps Indicator -->
        <div class="flex justify-between items-center mb-6 text-gray-600 font-semibold">
            <span id="step-1-indicator" class="flex-1 text-center text-blue-600">1. Details</span>
            <span class="flex-1 text-center">---</span>
            <span id="step-2-indicator" class="flex-1 text-center">2. Shipping</span>
            <span class="flex-1 text-center">---</span>
            <span id="step-3-indicator" class="flex-1 text-center">3. Payment</span>
        </div>

        <form id="checkout-form" class="space-y-6">
            <!-- Step 1: User Details -->
            <div id="checkout-step-1" class="checkout-step active">
                <h3 class="text-2xl font-semibold text-gray-700 mb-4">Your Details</h3>
                <div>
                    <label for="full-name" class="block text-gray-700 text-sm font-bold mb-2">Full Name:</label>
                    <input type="text" id="full-name" name="fullName" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="email" class="block text-gray-700 text-sm font-bold mb-2">Email:</label>
                    <input type="email" id="email" name="email" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                </div>
                <div>
                    <label for="address" class="block text-gray-700 text-sm font-bold mb-2">Shipping Address:</label>
                    <textarea id="address" name="address" rows="3" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                </div>
                <div class="flex justify-end mt-6">
                    <button type="button" id="next-step-2" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300">Next</button>
                </div>
            </div>

            <!-- Step 2: Shipping Method -->
            <div id="checkout-step-2" class="checkout-step">
                <h3 class="text-2xl font-semibold text-gray-700 mb-4">Shipping Method</h3>
                <div class="mb-4">
                    <label class="inline-flex items-center">
                        <input type="radio" name="shipping-method" value="local" checked class="form-radio text-blue-600 h-5 w-5" id="shipping-local">
                        <span class="ml-2 text-gray-700">Local Pickup (Free)</span>
                    </label>
                </div>
                <div class="mb-6">
                    <label class="inline-flex items-center">
                        <input type="radio" name="shipping-method" value="delivery" class="form-radio text-blue-600 h-5 w-5" id="shipping-delivery">
                        <span class="ml-2 text-gray-700">Delivery</span>
                    </label>
                </div>

                <div id="shipping-company-section" class="mb-6">
                    <label for="shipping-company" class="block text-gray-700 text-sm font-bold mb-2">Select Shipping Company:</label>
                    <select id="shipping-company" name="shippingCompany" class="shadow appearance-none border rounded-lg w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-blue-500" disabled>
                        <option value="">Select a company</option>
                        <option value="UPS">UPS</option>
                        <option value="G4S">G4S</option>
                        <option value="DHL">DHL</option>
                        <option value="Wells Fargo">Wells Fargo</option>
                    </select>
                </div>

                <div class="text-xl font-bold text-gray-800 mb-6">
                    Order Total: $<span id="order-total-step-2">0.00</span>
                </div>

                <div class="flex justify-between mt-6">
                    <button type="button" id="prev-step-1" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300">Previous</button>
                    <button type="button" id="next-step-3" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300">Next</button>
                </div>
            </div>

            <!-- Step 3: Payment Method -->
            <div id="checkout-step-3" class="checkout-step">
                <h3 class="text-2xl font-semibold text-gray-700 mb-4">Payment Method</h3>
                <div class="space-y-4 mb-6">
                    <label class="flex items-center p-4 border rounded-lg shadow-sm cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                        <input type="radio" name="payment-method" value="credit-card" checked class="form-radio text-blue-600 h-5 w-5">
                        <span class="ml-3 text-gray-700 text-lg font-medium">Credit Card</span>
                        <i class="fas fa-credit-card ml-auto text-gray-500 text-2xl"></i>
                    </label>
                    <label class="flex items-center p-4 border rounded-lg shadow-sm cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                        <input type="radio" name="payment-method" value="mpesa" class="form-radio text-blue-600 h-5 w-5">
                        <span class="ml-3 text-gray-700 text-lg font-medium">M-Pesa</span>
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/M-PESA_LOGO.svg/1200px-M-PESA_LOGO.svg.png" alt="M-Pesa Logo" class="h-6 ml-auto">
                    </label>
                    <label class="flex items-center p-4 border rounded-lg shadow-sm cursor-pointer hover:bg-gray-50 transition-colors duration-200">
                        <input type="radio" name="payment-method" value="paypal" class="form-radio text-blue-600 h-5 w-5">
                        <span class="ml-3 text-gray-700 text-lg font-medium">PayPal</span>
                        <i class="fab fa-paypal ml-auto text-blue-700 text-2xl"></i>
                    </label>
                </div>

                <div class="text-xl font-bold text-gray-800 mb-6">
                    Final Total: $<span id="final-total-step-3">0.00</span>
                </div>

                <div class="flex justify-between mt-6">
                    <button type="button" id="prev-step-2" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-md transition-colors duration-300">Previous</button>
                    <button type="submit" id="place-order-button" class="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg shadow-md transition-colors duration-300">Place Order</button>
                </div>
            </div>
        </form>
    </div>
</div>

<footer>
    <div class="footer-grid">
        <div class="footer-contact">
            <h4>Contact La Familia</h4>
            <p><i class="fas fa-map-marker-alt"></i> 123 Chambers Lane, Westlands, Nairobi, Kenya</p>
            <p><i class="fas fa-phone"></i> +254 707 176 595</p>
            <p><i class="fas fa-envelope"></i> info@lafamiliachambers.co.ke</p>
        </div>
        <div class="footer-links">
            <h4>Quick Links</h4>
            <ul>
                <li><a href="privacy.html">Privacy Notice</a></li>
                <li><a href="terms.html">Terms of Service</a></li>
                <li><a href="faqs.html">FAQs</a></li>
                <li><a href="sitemap.html">Sitemap</a></li>
            </ul>
        </div>
        <div class="footer-about">
            <h4>About</h4>
            <ul>
                <li><a href="about.html">About La Familia</a></li>
                <li><a href="developer.html">About the Developer</a></li>
                <li><a href="mission.html">Our Mission</a></li>
            </ul>
        </div>
        <div class="footer-social">
            <h4>Connect With Us</h4>
            <div class="social-icons">
                <a href="https://facebook.com/lafamiliachambers" target="_blank" rel="noopener" aria-label="La Familia Chambers on Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="https://twitter.com/lafamiliachamber" target="_blank" rel="noopener" aria-label="La Familia Chambers on Twitter"><i class="fab fa-twitter"></i></a>
                <a href="https://linkedin.com/company/lafamiliachambers" target="_blank" rel="noopener" aria-label="La Familia Chambers on LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                <a href="https://instagram.com/lafamiliachambers" target="_blank" rel="noopener" aria-label="La Familia Chambers on Instagram"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
    </div>
    <div class="footer-bottom">
        <p>&copy; <span id="current-year"></span> La Familia Chambers. All rights reserved.</p>
    </div>
</footer>

<script>
    // --- Data Definitions (Embedded - copied from imall-main-page for consistency) ---
    const ALL_PRODUCTS = [
        {
            id: 'prod149',
            name: 'Classic Mattel Game',
            description: 'Discover the Classic Mattel Game, a Toys & Games essential from Mattel. This product boasts 2 unique features and a sleek design. Perfect for toys & games enthusiasts.',
            category: 'Toys & Games',
            subCategory: 'Board Games',
            brand: 'Mattel',
            price: 2000.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['images/products/classic-mattel-game.webp', 'images/products/image2.webp', 'images/products/image3.webp'],
            rating: 4.1,
            reviewsCount: 110,
            inStock: 280,
            sku: 'MAT-TOY-PROD149',
            features: ['Multi-functional', 'Durable Construction'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 20,
            availableColors: ['Multi-color'],
            color: 'Multi-color',
            storage: null,
            size: null
        },
        {
            id: 'prod150',
            name: 'Ergonomic Office Chair',
            description: 'Boost your productivity with this ergonomic office chair. Designed for comfort and support during long working hours.',
            category: 'Office & Stationery',
            subCategory: 'Office Furniture',
            brand: 'Logitech', // Example brand
            price: 350.00,
            originalPrice: 400.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/F0F0F0/333333?text=Office+Chair'],
            rating: 4.5,
            reviewsCount: 250,
            inStock: 150,
            sku: 'LOG-OFF-CHAIR-150',
            features: ['Adjustable Height', 'Lumbar Support'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Black', 'Grey'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod151',
            name: 'High-Performance Laptop',
            description: 'Experience blazing fast performance with this high-end laptop, perfect for gaming and professional work.',
            category: 'Electronics',
            subCategory: 'Laptops',
            brand: 'HP',
            price: 1200.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/D0D0D0/333333?text=Laptop'],
            rating: 4.8,
            reviewsCount: 500,
            inStock: 80,
            sku: 'HP-LAP-PRO151',
            features: ['16GB RAM', '1TB SSD', 'RTX 3060'],
            shipping: 'local',
            waitingPeriod: '1-2 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 3,
            availableColors: ['Silver'],
            color: 'Silver',
            storage: '1TB',
            size: '15.6 inch'
        },
        {
            id: 'prod152',
            name: 'Wireless Bluetooth Speaker',
            description: 'Portable and powerful wireless speaker with deep bass and clear highs. Perfect for parties or personal use.',
            category: 'Electronics',
            subCategory: 'Audio',
            brand: 'Sony',
            price: 99.99,
            originalPrice: 120.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/C0C0C0/333333?text=Speaker'],
            rating: 4.3,
            reviewsCount: 180,
            inStock: 300,
            sku: 'SONY-AUD-SPK152',
            features: ['Waterproof', '20-hour Battery Life'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Black', 'Blue', 'Red'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod153',
            name: 'Smartwatch with Heart Rate Monitor',
            description: 'Stay fit and connected with this stylish smartwatch. Tracks your activity, heart rate, and notifications.',
            category: 'Electronics',
            subCategory: 'Wearables',
            brand: 'Samsung',
            price: 180.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/B0B0B0/333333?text=Smartwatch'],
            rating: 4.6,
            reviewsCount: 320,
            inStock: 120,
            sku: 'SAM-WEAR-SMW153',
            features: ['GPS', 'Water Resistant'],
            shipping: 'local',
            waitingPeriod: '1-2 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Black', 'Rose Gold'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod154',
            name: 'Digital SLR Camera',
            description: 'Capture stunning photos and videos with this professional-grade DSLR camera. Perfect for enthusiasts and pros.',
            category: 'Electronics',
            subCategory: 'Cameras',
            brand: 'Canon',
            price: 750.00,
            originalPrice: 850.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/A0A0A0/333333?text=DSLR+Camera'],
            rating: 4.7,
            reviewsCount: 400,
            inStock: 70,
            sku: 'CAN-CAM-DSLR154',
            features: ['24MP Sensor', '4K Video'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod155',
            name: 'Men\'s Casual T-Shirt',
            description: 'Comfortable and stylish casual t-shirt for men. Made from breathable cotton.',
            category: 'Fashion & Apparel',
            subCategory: "Men's Clothing",
            brand: 'H&M',
            price: 15.0            ,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/909090/333333?text=Mens+T-Shirt'],
            rating: 4.0,
            reviewsCount: 90,
            inStock: 500,
            sku: 'HM-MEN-TSHIRT155',
            features: ['Soft Fabric', 'Regular Fit'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 50,
            availableColors: ['White', 'Black', 'Blue'],
            color: 'White',
            storage: null,
            size: 'M'
        },
        {
            id: 'prod156',
            name: 'Women\'s Summer Dress',
            description: 'Light and airy summer dress, perfect for a casual day out or a beach vacation.',
            category: 'Fashion & Apparel',
            subCategory: "Women's Clothing",
            brand: 'Zara',
            price: 45.00,
            originalPrice: 60.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/808080/333333?text=Womens+Dress'],
            rating: 4.2,
            reviewsCount: 150,
            inStock: 200,
            sku: 'ZAR-WOM-DRESS156',
            features: ['Breathable', 'Floral Print'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Floral', 'Red'],
            color: 'Floral',
            storage: null,
            size: 'S'
        },
        {
            id: 'prod157',
            name: 'Kids\' Play Tent',
            description: 'A fun and colorful play tent for kids, perfect for indoor and outdoor adventures.',
            category: 'Baby & Kids',
            subCategory: "Kid's Toys", // Changed from Apparel as per product type
            brand: 'Fisher-Price',
            price: 70.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/707070/333333?text=Kids+Tent'],
            rating: 4.4,
            reviewsCount: 80,
            inStock: 100,
            sku: 'FPR-KID-TENT157',
            features: ['Easy Setup', 'Durable Fabric'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Multi-color'],
            color: 'Multi-color',
            storage: null,
            size: null
        },
        {
            id: 'prod158',
            name: 'Running Shoes',
            description: 'Lightweight and supportive running shoes for optimal performance and comfort.',
            category: 'Fashion & Apparel',
            subCategory: 'Shoes',
            brand: 'Nike',
            price: 90.00,
            originalPrice: 110.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/606060/333333?text=Running+Shoes'],
            rating: 4.7,
            reviewsCount: 300,
            inStock: 250,
            sku: 'NIK-RUN-SHOE158',
            features: ['Breathable Mesh', 'Cushioned Sole'],
            shipping: 'local',
            waitingPeriod: '1-2 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Black', 'White', 'Red'],
            color: 'Black',
            storage: null,
            size: 'US 10'
        },
        {
            id: 'prod159',
            name: 'Leather Handbag',
            description: 'Elegant genuine leather handbag, perfect for daily use or special occasions. Spacious and stylish.',
            category: 'Fashion & Apparel',
            subCategory: 'Accessories',
            brand: 'Zara', // Example brand
            price: 120.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/505050/333333?text=Handbag'],
            rating: 4.5,
            reviewsCount: 100,
            inStock: 80,
            sku: 'ZAR-ACC-HANDBAG159',
            features: ['Genuine Leather', 'Multiple Compartments'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 3,
            availableColors: ['Brown', 'Black'],
            color: 'Brown',
            storage: null,
            size: null
        },
        {
            id: 'prod160',
            name: 'Non-Stick Cookware Set',
            description: 'Complete non-stick cookware set for all your cooking needs. Durable and easy to clean.',
            category: 'Home & Kitchen',
            subCategory: 'Cookware',
            brand: 'Tefal',
            price: 150.00,
            originalPrice: 180.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/404040/333333?text=Cookware'],
            rating: 4.6,
            reviewsCount: 200,
            inStock: 110,
            sku: 'TEF-HOM-COOK160',
            features: ['Dishwasher Safe', 'Even Heat Distribution'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod161',
            name: 'Smart Home Lighting Kit',
            description: 'Control your home lighting from your smartphone with this easy-to-install smart lighting kit.',
            category: 'Home & Kitchen',
            subCategory: 'Decor', // Assuming decor for smart home integration
            brand: 'Philips',
            price: 80.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/303030/333333?text=Smart+Light'],
            rating: 4.3,
            reviewsCount: 120,
            inStock: 90,
            sku: 'PHI-HOM-LIGHT161',
            features: ['Voice Control', 'Dimmable'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['White'],
            color: 'White',
            storage: null,
            size: null
        },
        {
            id: 'prod162',
            name: 'Luxury Bedding Set',
            description: 'Indulge in ultimate comfort with this soft and luxurious bedding set. Made from premium materials.',
            category: 'Home & Kitchen',
            subCategory: 'Bedding',
            brand: 'Dyson', // Example brand, though Dyson is usually appliances
            price: 250.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/202020/333333?text=Bedding'],
            rating: 4.8,
            reviewsCount: 60,
            inStock: 40,
            sku: 'DYS-HOM-BED162',
            features: ['Hypoallergenic', 'Machine Washable'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['White', 'Grey', 'Navy'],
            color: 'White',
            storage: null,
            size: 'King'
        },
        {
            id: 'prod163',
            name: 'Organic Skincare Set',
            description: 'Nourish your skin with this organic skincare set. Gentle formulas for all skin types.',
            category: 'Beauty & Personal Care',
            subCategory: 'Skincare',
            brand: 'Nivea',
            price: 60.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/101010/333333?text=Skincare'],
            rating: 4.5,
            reviewsCount: 180,
            inStock: 150,
            sku: 'NIV-BEA-SKIN163',
            features: ['Natural Ingredients', 'Dermatologist Tested'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod164',
            name: 'Professional Hair Dryer',
            description: 'Achieve salon-quality blowouts at home with this powerful and lightweight hair dryer.',
            category: 'Beauty & Personal Care',
            subCategory: 'Haircare',
            brand: 'Dyson',
            price: 399.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/000000/FFFFFF?text=Hair+Dryer'],
            rating: 4.9,
            reviewsCount: 250,
            inStock: 60,
            sku: 'DYS-BEA-HAIR164',
            features: ['Fast Drying', 'Heat Control'],
            shipping: 'local',
            waitingPeriod: '1-2 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['Pink', 'Silver'],
            color: 'Pink',
            storage: null,
            size: null
        },
        {
            id: 'prod165',
            name: 'Waterproof Mascara',
            description: 'Long-lasting waterproof mascara for voluminous lashes that stay put all day.',
            category: 'Beauty & Personal Care',
            subCategory: 'Makeup',
            brand: 'L\'Oreal',
            price: 18.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/555555/FFFFFF?text=Mascara'],
            rating: 4.0,
            reviewsCount: 90,
            inStock: 300,
            sku: 'LOR-BEA-MASC165',
            features: ['Smudge-proof', 'Volumizing'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 20,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod166',
            name: 'Unisex Eau de Parfum',
            description: 'A captivating unisex fragrance with notes of citrus, wood, and musk. Long-lasting and versatile.',
            category: 'Beauty & Personal Care',
            subCategory: 'Fragrances',
            brand: 'Garnier', // Example brand
            price: 75.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/666666/FFFFFF?text=Perfume'],
            rating: 4.6,
            reviewsCount: 110,
            inStock: 70,
            sku: 'GAR-BEA-FRAG166',
            features: ['Long-lasting', 'Unique Scent'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: '100ml'
        },
        {
            id: 'prod167',
            name: 'Beard Trimmer Kit',
            description: 'All-in-one beard trimmer kit for precise grooming. Includes multiple attachments.',
            category: 'Beauty & Personal Care',
            subCategory: 'Grooming',
            brand: 'Philips',
            price: 50.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/777777/FFFFFF?text=Trimmer'],
            rating: 4.3,
            reviewsCount: 130,
            inStock: 180,
            sku: 'PHI-BEA-GROOM167',
            features: ['Cordless', 'Waterproof'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod168',
            name: 'Home Gym Multi-Station',
            description: 'Build strength and muscle with this versatile home gym multi-station. Perfect for full-body workouts.',
            category: 'Sports & Outdoors',
            subCategory: 'Fitness',
            brand: 'Adidas', // Example brand
            price: 450.00,
            originalPrice: 550.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/888888/FFFFFF?text=Home+Gym'],
            rating: 4.7,
            reviewsCount: 70,
            inStock: 30,
            sku: 'ADI-SPO-GYM168',
            features: ['Multiple Exercises', 'Durable Construction'],
            shipping: 'local',
            waitingPeriod: '5-7 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 1,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod169',
            name: 'Camping Tent 4-Person',
            description: 'Spacious and easy-to-setup camping tent for up to 4 people. Ideal for family camping trips.',
            category: 'Sports & Outdoors',
            subCategory: 'Camping',
            brand: 'GoPro', // Example brand
            price: 180.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/999999/FFFFFF?text=Camping+Tent'],
            rating: 4.4,
            reviewsCount: 90,
            inStock: 100,
            sku: 'GOP-SPO-TENT169',
            features: ['Waterproof', 'Ventilated'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 3,
            availableColors: ['Green', 'Blue'],
            color: 'Green',
            storage: null,
            size: null
        },
        {
            id: 'prod170',
            name: 'Mountain Bike 29er',
            description: 'Conquer any trail with this rugged 29-inch mountain bike. Features durable frame and responsive suspension.',
            category: 'Sports & Outdoors',
            subCategory: 'Cycling',
            brand: 'Garmin', // Example brand
            price: 600.00,
            originalPrice: 700.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/AAAAAA/FFFFFF?text=Mountain+Bike'],
            rating: 4.6,
            reviewsCount: 110,
            inStock: 40,
            sku: 'GAR-SPO-BIKE170',
            features: ['Aluminum Frame', 'Disc Brakes'],
            shipping: 'local',
            waitingPeriod: '5-7 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 1,
            availableColors: ['Black', 'Red'],
            color: 'Black',
            storage: null,
            size: '29 inch'
        },
        {
            id: 'prod171',
            name: 'Basketball Hoop Portable',
            description: 'Enjoy basketball anywhere with this portable hoop. Adjustable height for all ages.',
            category: 'Sports & Outdoors',
            subCategory: 'Team Sports',
            brand: 'Puma', // Example brand
            price: 220.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/BBBBBB/FFFFFF?text=Basketball+Hoop'],
            rating: 4.2,
            reviewsCount: 50,
            inStock: 60,
            sku: 'PUM-SPO-HOOP171',
            features: ['Adjustable Height', 'Wheels for Portability'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod172',
            name: 'Hiking Backpack 60L',
            description: 'Large capacity hiking backpack, perfect for multi-day treks. Comfortable and durable.',
            category: 'Sports & Outdoors',
            subCategory: 'Outdoor Gear',
            brand: 'North Face', // Example brand
            price: 130.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/CCCCCC/FFFFFF?text=Hiking+Pack'],
            rating: 4.5,
            reviewsCount: 80,
            inStock: 90,
            sku: 'TNF-SPO-BPK172',
            features: ['Water Resistant', 'Multiple Pockets'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Green', 'Blue'],
            color: 'Green',
            storage: null,
            size: '60L'
        },
        {
            id: 'prod173',
            name: 'Bestselling Novel',
            description: 'A gripping tale of mystery and adventure that will keep you on the edge of your seat.',
            category: 'Books, Movies & Music',
            subCategory: 'Books',
            brand: 'Penguin Random House', // Example brand
            price: 20.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/DDDDDD/333333?text=Book'],
            rating: 4.1,
            reviewsCount: 200,
            inStock: 400,
            sku: 'PRH-BMM-BOOK173',
            features: ['Paperback', 'Fiction'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod174',
            name: '4K Ultra HD Blu-ray Player',
            description: 'Experience stunning visuals and immersive audio with this 4K Blu-ray player.',
            category: 'Books, Movies & Music',
            subCategory: 'Movies',
            brand: 'Sony',
            price: 250.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/EEEEEE/333333?text=Blu-ray+Player'],
            rating: 4.5,
            reviewsCount: 70,
            inStock: 50,
            sku: 'SONY-BMM-BLURAY174',
            features: ['HDR Support', 'Dolby Atmos'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod175',
            name: 'Vinyl Record Player',
            description: 'Rediscover your favorite music with this retro-style vinyl record player. Built-in speakers.',
            category: 'Books, Movies & Music',
            subCategory: 'Music',
            brand: 'Audio-Technica', // Example brand
            price: 150.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/FFFFFF/333333?text=Vinyl+Player'],
            rating: 4.2,
            reviewsCount: 60,
            inStock: 80,
            sku: 'AUD-BMM-VINYL175',
            features: ['Bluetooth Connectivity', '3-Speed'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Brown', 'Black'],
            color: 'Brown',
            storage: null,
            size: null
        },
        {
            id: 'prod176',
            name: 'Latest Gaming Console',
            description: 'Dive into next-gen gaming with the latest console. Stunning graphics and immersive gameplay.',
            category: 'Books, Movies & Music',
            subCategory: 'Video Games',
            brand: 'Nintendo',
            price: 499.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/F0F0F0/333333?text=Gaming+Console'],
            rating: 4.9,
            reviewsCount: 600,
            inStock: 50,
            sku: 'NIN-BMM-CON176',
            features: ['4K Gaming', 'Fast Loading'],
            shipping: 'local',
            waitingPeriod: '1-2 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 1,
            availableColors: ['Black'],
            color: 'Black',
            storage: '1TB',
            size: null
        },
        {
            id: 'prod177',
            name: 'Educational Building Blocks',
            description: 'Inspire creativity and learning with these colorful educational building blocks for toddlers.',
            category: 'Toys & Games',
            subCategory: "Kid's Toys",
            brand: 'Lego',
            price: 30.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/D0D0D0/333333?text=Building+Blocks'],
            rating: 4.5,
            reviewsCount: 150,
            inStock: 250,
            sku: 'LEG-TOY-BLOCK177',
            features: ['Non-toxic', 'Easy to Assemble'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Multi-color'],
            color: 'Multi-color',
            storage: null,
            size: null
        },
        {
            id: 'prod178',
            name: 'Strategy Board Game',
            description: 'Engage in epic battles of strategy and wit with this complex and rewarding board game.',
            category: 'Toys & Games',
            subCategory: 'Board Games',
            brand: 'Mattel',
            price: 40.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/C0C0C0/333333?text=Strategy+Game'],
            rating: 4.6,
            reviewsCount: 100,
            inStock: 120,
            sku: 'MAT-TOY-STRAT178',
            features: ['2-4 Players', 'Ages 10+'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod179',
            name: 'Jigsaw Puzzle 1000 Pieces',
            description: 'Challenge your mind with this beautiful 1000-piece jigsaw puzzle featuring a scenic landscape.',
            category: 'Toys & Games',
            subCategory: 'Puzzles',
            brand: '3M', // Example brand
            price: 25.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/B0B0B0/333333?text=Jigsaw+Puzzle'],
            rating: 4.0,
            reviewsCount: 70,
            inStock: 150,
            sku: '3M-TOY-PUZZLE179',
            features: ['High Quality Print', 'Challenging'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod180',
            name: 'Collectible Action Figure',
            description: 'Highly detailed collectible action figure from a popular movie franchise. Limited edition.',
            category: 'Toys & Games',
            subCategory: 'Action Figures',
            brand: 'Barbie', // Example brand
            price: 55.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/A0A0A0/333333?text=Action+Figure'],
            rating: 4.7,
            reviewsCount: 40,
            inStock: 30,
            sku: 'BAR-TOY-FIG180',
            features: ['Articulated Joints', 'Collector\'s Item'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 2,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod181',
            name: 'Baby Stroller',
            description: 'Lightweight and compact baby stroller, perfect for city strolls and travel. Easy to fold.',
            category: 'Baby & Kids',
            subCategory: 'Baby Gear',
            brand: 'Medela', // Example brand
            price: 280.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/909090/333333?text=Baby+Stroller'],
            rating: 4.4,
            reviewsCount: 80,
            inStock: 50,
            sku: 'MED-BAB-STR181',
            features: ['One-hand Fold', 'Large Canopy'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 1,
            availableColors: ['Grey', 'Blue'],
            color: 'Grey',
            storage: null,
            size: null
        },
        {
            id: 'prod182',
            name: 'Disposable Diapers Jumbo Pack',
            description: 'Ultra-absorbent disposable diapers for maximum protection and comfort for your baby.',
            category: 'Baby & Kids',
            subCategory: 'Diapers',
            brand: 'Pampers', // Example brand
            price: 35.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/808080/333333?text=Diapers'],
            rating: 4.6,
            reviewsCount: 300,
            inStock: 500,
            sku: 'PAM-BAB-DIAP182',
            features: ['Wetness Indicator', 'Soft Liner'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: 'Size 4'
        },
        {
            id: 'prod183',
            name: 'Baby Bottle Set',
            description: 'Complete baby bottle set with anti-colic design. BPA-free and easy to clean.',
            category: 'Baby & Kids',
            subCategory: 'Feeding',
            brand: 'Philips',
            price: 25.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/707070/333333?text=Baby+Bottles'],
            rating: 4.3,
            reviewsCount: 180,
            inStock: 200,
            sku: 'PHI-BAB-BOTTLE183',
            features: ['Anti-colic', 'BPA-Free'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Clear'],
            color: 'Clear',
            storage: null,
            size: null
        },
        {
            id: 'prod184',
            name: 'Nursery Crib',
            description: 'Stylish and safe nursery crib for your baby. Adjustable mattress height.',
            category: 'Baby & Kids',
            subCategory: 'Nursery',
            brand: 'Fisher-Price',
            price: 180.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/606060/333333?text=Baby+Crib'],
            rating: 4.5,
            reviewsCount: 60,
            inStock: 40,
            sku: 'FPR-BAB-CRIB184',
            features: ['Adjustable Height', 'Solid Wood'],
            shipping: 'local',
            waitingPeriod: '5-7 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 1,
            availableColors: ['White', 'Espresso'],
            color: 'White',
            storage: null,
            size: null
        },
        {
            id: 'prod185',
            name: 'Kids\' Study Desk',
            description: 'Ergonomic study desk for kids, perfect for homework and creative activities. Durable and easy to clean.',
            category: 'Baby & Kids',
            subCategory: 'Kids Furniture',
            brand: 'IKEA', // Example brand
            price: 90.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/505050/333333?text=Kids+Desk'],
            rating: 4.2,
            reviewsCount: 70,
            inStock: 80,
            sku: 'IKE-BAB-DESK185',
            features: ['Adjustable Height', 'Storage Drawers'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 3,
            availableColors: ['White', 'Blue'],
            color: 'White',
            storage: null,
            size: null
        },
        {
            id: 'prod186',
            name: 'Car Stereo System',
            description: 'Upgrade your car audio with this powerful stereo system. Features Bluetooth and USB connectivity.',
            category: 'Automotive & Tools',
            subCategory: 'Car Parts',
            brand: 'Sony',
            price: 150.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/404040/333333?text=Car+Stereo'],
            rating: 4.1,
            reviewsCount: 90,
            inStock: 100,
            sku: 'SONY-AUT-STEREO186',
            features: ['Bluetooth', 'USB Port'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod187',
            name: 'Car Phone Mount',
            description: 'Securely mount your smartphone in your car for navigation and hands-free calls. Universal fit.',
            category: 'Automotive & Tools',
            subCategory: 'Auto Accessories',
            brand: 'Logitech',
            price: 20.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/303030/333333?text=Phone+Mount'],
            rating: 4.0,
            reviewsCount: 150,
            inStock: 300,
            sku: 'LOG-AUT-MOUNT187',
            features: ['360 Rotation', 'Strong Grip'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 20,
            availableColors: ['Black'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod188',
            name: 'Cordless Drill Set',
            description: 'Powerful cordless drill set for all your DIY projects. Includes multiple drill bits and battery.',
            category: 'Automotive & Tools',
            subCategory: 'Power Tools',
            brand: 'Bosch',
            price: 120.00,
            originalPrice: 150.00,
            isDiscounted: true,
            images: ['https://placehold.co/300x200/202020/333333?text=Cordless+Drill'],
            rating: 4.7,
            reviewsCount: 200,
            inStock: 90,
            sku: 'BOS-AUT-DRILL188',
            features: ['High Torque', 'Long Battery Life'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Blue'],
            color: 'Blue',
            storage: null,
            size: null
        },
        {
            id: 'prod189',
            name: 'Adjustable Wrench Set',
            description: 'Durable adjustable wrench set for various tasks. Essential for every toolbox.',
            category: 'Automotive & Tools',
            subCategory: 'Hand Tools',
            brand: 'Stanley',
            price: 40.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/101010/333333?text=Wrench+Set'],
            rating: 4.3,
            reviewsCount: 110,
            inStock: 200,
            sku: 'STA-AUT-WRENCH189',
            features: ['Chrome Vanadium Steel', 'Comfort Grip'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['Silver'],
            color: 'Silver',
            storage: null,
            size: null
        },
        {
            id: 'prod190',
            name: 'Multivitamin Supplements',
            description: 'Comprehensive multivitamin supplements to support overall health and well-being.',
            category: 'Health & Wellness',
            subCategory: 'Vitamins',
            brand: 'Purina', // Example brand
            price: 25.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/000000/FFFFFF?text=Multivitamin'],
            rating: 4.5,
            reviewsCount: 150,
            inStock: 300,
            sku: 'PUR-HEA-VIT190',
            features: ['Essential Nutrients', 'Easy to Swallow'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod191',
            name: 'Blood Pressure Monitor',
            description: 'Accurate and easy-to-use digital blood pressure monitor for home use. Large display.',
            category: 'Health & Wellness',
            subCategory: 'Medical Devices',
            brand: 'Oral-B', // Example brand
            price: 60.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/555555/FFFFFF?text=BP+Monitor'],
            rating: 4.4,
            reviewsCount: 90,
            inStock: 120,
            sku: 'ORB-HEA-BPM191',
            features: ['Irregular Heartbeat Detection', 'Memory Function'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['White'],
            color: 'White',
            storage: null,
            size: null
        },
        {
            id: 'prod192',
            name: 'Smart Fitness Tracker',
            description: 'Track your daily activity, sleep, and workouts with this sleek smart fitness tracker.',
            category: 'Health & Wellness',
            subCategory: 'Fitness Trackers',
            brand: 'Garmin',
            price: 90.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/666666/FFFFFF?text=Fitness+Tracker'],
            rating: 4.6,
            reviewsCount: 200,
            inStock: 100,
            sku: 'GAR-HEA-FIT192',
            features: ['Heart Rate', 'Sleep Tracking'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['Black', 'Pink'],
            color: 'Black',
            storage: null,
            size: null
        },
        {
            id: 'prod193',
            name: 'Dog Food Premium Blend',
            description: 'Nutrient-rich premium dog food for adult dogs. Supports healthy digestion and coat.',
            category: 'Pet Supplies',
            subCategory: 'Dog Food',
            brand: 'Royal Canin',
            price: 50.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/777777/FFFFFF?text=Dog+Food'],
            rating: 4.7,
            reviewsCount: 180,
            inStock: 250,
            sku: 'RCA-PET-DOGF193',
            features: ['High Protein', 'No Artificial Flavors'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: '15kg'
        },
        {
            id: 'prod194',
            name: 'Cat Food Wet Variety Pack',
            description: 'Delicious wet cat food variety pack. Provides essential hydration and nutrients for cats.',
            category: 'Pet Supplies',
            subCategory: 'Cat Food',
            brand: 'Purina',
            price: 20.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/888888/FFFFFF?text=Cat+Food'],
            rating: 4.5,
            reviewsCount: 120,
            inStock: 300,
            sku: 'PUR-PET-CATF194',
            features: ['Grain-Free', 'Rich in Protein'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: '12-pack'
        },
        {
            id: 'prod195',
            name: 'Interactive Pet Toy',
            description: 'Keep your pet entertained for hours with this durable and interactive toy. Great for mental stimulation.',
            category: 'Pet Supplies',
            subCategory: 'Pet Toys',
            brand: 'Mattel', // Example brand
            price: 15.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/999999/FFFFFF?text=Pet+Toy'],
            rating: 4.2,
            reviewsCount: 80,
            inStock: 200,
            sku: 'MAT-PET-TOY195',
            features: ['Durable', 'Treat Dispensing'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 15,
            availableColors: ['Multi-color'],
            color: 'Multi-color',
            storage: null,
            size: null
        },
        {
            id: 'prod196',
            name: 'Pet Grooming Brush',
            description: 'Gently remove loose fur and tangles with this effective pet grooming brush. Suitable for all coat types.',
            category: 'Pet Supplies',
            subCategory: 'Grooming',
            brand: 'Dyson', // Example brand
            price: 25.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/AAAAAA/FFFFFF?text=Grooming+Brush'],
            rating: 4.0,
            reviewsCount: 70,
            inStock: 150,
            sku: 'DYS-PET-BRUSH196',
            features: ['Self-Cleaning', 'Comfort Grip'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 10,
            availableColors: ['N/A'],
            color: 'N/A',
            storage: null,
            size: null
        },
        {
            id: 'prod197',
            name: 'Pet Bed Orthopedic',
            description: 'Provide ultimate comfort for your pet with this orthopedic pet bed. Supports joints and promotes restful sleep.',
            category: 'Pet Supplies',
            subCategory: 'Beds',
            brand: 'Royal Canin', // Example brand
            price: 70.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/BBBBBB/FFFFFF?text=Pet+Bed'],
            rating: 4.8,
            reviewsCount: 50,
            inStock: 80,
            sku: 'RCA-PET-BED197',
            features: ['Memory Foam', 'Removable Cover'],
            shipping: 'local',
            waitingPeriod: '3-5 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 3,
            availableColors: ['Grey', 'Brown'],
            color: 'Grey',
            storage: null,
            size: 'Large'
        },
        {
            id: 'prod198',
            name: 'Office Laser Printer',
            description: 'High-speed laser printer for efficient office use. Produces crisp, clear documents.',
            category: 'Office & Stationery',
            subCategory: 'Printers',
            brand: 'Brother',
            price: 200.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/CCCCCC/FFFFFF?text=Laser+Printer'],
            rating: 4.3,
            reviewsCount: 100,
            inStock: 70,
            sku: 'BRO-OFF-PRINT198',
            features: ['Wireless Connectivity', 'Duplex Printing'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['White'],
            color: 'White',
            storage: null,
            size: null
        },
        {
            id: 'prod199',
            name: 'Premium Notebooks 5-Pack',
            description: 'High-quality notebooks for all your writing needs. Smooth paper and durable covers.',
            category: 'Office & Stationery',
            subCategory: 'Stationery',
            brand: '3M', // Example brand
            price: 12.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/DDDDDD/333333?text=Notebooks'],
            rating: 4.0,
            reviewsCount: 150,
            inStock: 400,
            sku: '3M-OFF-NOTE199',
            features: ['Lined Pages', 'A5 Size'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 20,
            availableColors: ['Multi-color'],
            color: 'Multi-color',
            storage: null,
            size: null
        },
        {
            id: 'prod200',
            name: 'Home Security Camera System',
            description: 'Monitor your home with this comprehensive security camera system. Remote viewing via app.',
            category: 'Security & Protection',
            subCategory: 'Home Security',
            brand: 'Xiaomi',
            price: 180.00,
            originalPrice: null,
            isDiscounted: false,
            images: ['https://placehold.co/300x200/EEEEEE/333333?text=Security+Camera'],
            rating: 4.5,
            reviewsCount: 100,
            inStock: 80,
            sku: 'XIA-SEC-CAM200',
            features: ['1080p HD', 'Night Vision'],
            shipping: 'local',
            waitingPeriod: '2-3 business days',
            minOrderQuantity: 1,
            maxOrderQuantity: 5,
            availableColors: ['White'],
            color: 'White',
            storage: null,
            size: null
        }
    ];

    const TOP_BRANDS = [
        { id: 'brd-samsung', name: 'Samsung', logo: 'images/brandlogos/samsunglogo.webp', description: 'Global leader in electronics, known for innovative smartphones, TVs, and appliances.' },
        { id: 'brd-apple', name: 'Apple', logo: 'images/brandlogos/applelogo.webp', description: 'Pioneering technology company famous for iPhones, MacBooks, and intuitive software.' },
        { id: 'brd-sony', name: 'Sony', logo: 'images/brandlogos/sonylogo.webp', description: 'Japanese multinational conglomerate known for electronics, gaming, and entertainment.' },
        { id: 'brd-hp', name: 'HP', logo: 'images/brandlogos/hplogo.webp', description: 'Leading provider of personal computers, printers, and related solutions worldwide.' },
        { id: 'brd-dell', name: 'Dell', logo: 'images/brandlogos/delllogo.webp', description: 'American multinational computer technology company that develops, sells, repairs, and supports computers and related products and services.' },
        { id: 'brd-lg', name: 'LG', logo: 'images/brandlogos/lglogo.webp', description: 'South Korean multinational electronics company known for home appliances, electronics, and mobile communications.' },
        { id: 'brd-philips', name: 'Philips', logo: 'images/brandlogos/philipslogo.webp', description: 'Dutch multinational conglomerate corporation, known for electronics, healthcare, and lighting products.' },
        { id: 'brd-nike', name: 'Nike', logo: 'images/brandlogos/nikelogo.webp', description: 'American multinational corporation that is engaged in the design, development, manufacturing, and worldwide marketing and sales of footwear, apparel, equipment, accessories, and services.' },
        { id: 'brd-adidas', name: 'Adidas', logo: 'images/brandlogos/adidaslogo.webp', description: 'German multinational corporation, designing and manufacturing athletic and casual footwear, apparel, and accessories.' },
        { id: 'brd-puma', name: 'Puma', logo: 'images/brandlogos/pumalogo.webp', description: 'German multinational corporation that designs and manufactures athletic and casual footwear, apparel and accessories.' },
        { id: 'brd-dyson', name: 'Dyson', logo: 'images/brandlogos/dysonlogo.webp', description: 'British technology company known for innovative vacuum cleaners, air purifiers, and hair care products.' },
        { id: 'brd-bosch', name: 'Bosch', logo: 'images/brandlogos/boschlogo.webp', description: 'German multinational engineering and technology company, also a major manufacturer of home appliances.' },
        { id: 'brd-logitech', name: 'Logitech', logo: 'images/brandlogos/logitechlogo.webp', description: 'Swiss-American manufacturer of computer peripherals and software, specializing in input and interface devices.' },
        { id: 'brd-canon', name: 'Canon', logo: 'images/brandlogos/canonlogo.webp', description: 'Japanese multinational corporation specializing in optical, imaging, and industrial products, such as cameras, printers, and medical equipment.' },
        { id: 'brd-xiaomi', name: 'Xiaomi', logo: 'images/brandlogos/xiaomilogo.webp', description: 'Chinese multinational electronics company known for smartphones, smart hardware, and IoT platform products.' },
        { id: 'brd-hm', name: 'H&M', logo: 'images/brandlogos/hmlogo.webp', description: 'Swedish multinational retail-clothing company, known for its fast-fashion clothing for men, women, teenagers, and children.' },
        { id: 'brd-durex', name: 'Durex', logo: 'images/brandlogos/durexlogo.webp', description: 'British brand of condoms and personal lubricants owned by Reckitt Benckiser.' },
        { id: 'brd-barbie', name: 'Barbie', logo: 'images/brandlogos/barbielogo.webp', description: 'Fashion doll manufactured by American toy company Mattel, Inc.' },
        { id: 'brd-microsoft', name: 'Microsoft', logo: 'images/brandlogos/microsoftlogo.webp', description: 'American multinational technology corporation producing computer software, consumer electronics, personal computers, and related services.' },
        { id: 'brd-huawei', name: 'Huawei', logo: 'images/brandlogos/huaweilogo.webp', description: 'Chinese multinational technology company providing telecommunications equipment and selling consumer electronics, smartphones, and smart devices.' },
        { id: 'brd-zara', name: 'Zara', logo: 'images/brandlogos/zaralogo.webp', description: 'Spanish apparel retailer based in Arteixo, Galicia, Spain. The main brand of the Inditex group, the world\'s largest apparel retailer.' },
        { id: 'brd-royal-canin', name: 'Royal Canin', logo: 'images/brandlogos/royalcaninlogo.webp', description: 'French manufacturer of cat and dog food. A subsidiary of Mars, Incorporated.' },
        { id: 'brd-oral-b', name: 'Oral-B', logo: 'images/brandlogos/oralblogo.webp', description: 'American brand of oral hygiene products, including toothbrushes, toothpastes, mouthwashes, and dental floss.' },
        { id: 'brd-brother', name: 'Brother', logo: 'images/brandlogos/brotherlogo.webp', description: 'Japanese multinational electronics and electrical equipment company that produces a wide range of products including printers, multifunction printers, desktop computers, and other computer-related electronics.' },
        { id: 'brd-seiko', name: 'Seiko', logo: 'images/brandlogos/seikologo.webp', description: 'Japanese manufacturer of watches, clocks, electronic devices, semiconductors, and optical products.' },
        { id: 'brd-nintendo', name: 'Nintendo', logo: 'images/brandlogos/nintendologo.webp', description: 'Japanese multinational consumer electronics and video game company. One of the world\'s largest video game companies by market capitalization.' },
        { id: 'brd-fisher-price', name: 'Fisher-Price', logo: 'images/brandlogos/fisherpricelogo.webp', description: 'American company that manufactures toys for infants, toddlers, and preschool-aged children, headquartered in East Aurora, New York.' },
        { id: 'brd-3m', name: '3M', logo: 'images/brandlogos/3mlogo.webp', description: 'American multinational conglomerate corporation operating in the fields of industry, worker safety, health care, and consumer goods.' },
        { id: 'brd-medela', name: 'Medela', logo: 'images/brandlogos/medelalogo.webp', description: 'Swiss medical technology company specializing in breastfeeding products and medical vacuum technology.' },
        { id: 'brd-nivea', name: 'Nivea', logo: 'images/brandlogos/nivealogo.webp', description: 'German personal care brand that specializes in skin and body-care products.' },
        { id: 'brd-tefal', name: 'Tefal', logo: 'images/brandlogos/tefallogo.webp', description: 'French cookware and small appliance manufacturer, owned by Groupe SEB (a global manufacturer of small appliances).' },
        { id: 'brd-gopro', name: 'GoPro', logo: 'images/brandlogos/goprolog.webp', description: 'American technology company that manufactures action cameras and develops its own mobile apps and video-editing software.' },
        { id: 'brd-garmin', name: 'Garmin', logo: 'images/brandlogos/garminlogo.webp', description: 'American multinational technology company that develops, manufactures, and markets GPS technology for automotive, aviation, marine, outdoor, and sport activities.' },
        { id: 'brd-mattel', name: 'Mattel', logo: 'images/brandlogos/mattellogo.webp', description: 'American multinational toy manufacturing and entertainment company. The world\'s second-largest toy maker in terms of revenue.' },
        { id: 'brd-lego', name: 'Lego', logo: 'images/brandlogos/legologo.webp', description: 'Danish toy production company best known for manufacturing Lego-brand toys, consisting mostly of interlocking plastic bricks.' },
        { id: 'brd-loreal', name: 'L\'Oreal', logo: 'images/brandlogos/loreallogo.webp', description: 'French personal care company, the largest cosmetics company in the world.' },
        { id: 'brd-garnier', name: 'Garnier', logo: 'images/brandlogos/garnierlogo.webp', description: 'French cosmetics brand of L\'Oral. It produces hair care and skin care products.' },
        { id: 'brd-stanley', name: 'Stanley', logo: 'images/brandlogos/stanleylogo.webp', description: 'American manufacturer of tools and household hardware, a brand of Stanley Black & Decker.' },
        { id: 'brd-purina', name: 'Purina', logo: 'images/brandlogos/purinalogo.webp', description: 'American company that produces pet food, animal feed, and pet care products. A subsidiary of Nestl.' }
    ];

    const CATEGORY_DATA = [
        { name: 'Electronics', displayName: 'Electronics', subCategories: ['Smartphones', 'Laptops', 'TVs', 'Audio', 'Wearables', 'Cameras'] },
        { name: 'Fashion & Apparel', displayName: 'Fashion & Apparel', subCategories: ["Men's Clothing", "Women's Clothing", "Kid's Apparel", 'Shoes', 'Accessories'] },
        { name: 'Home & Kitchen', displayName: 'Home & Kitchen', subCategories: ['Appliances', 'Furniture', 'Cookware', 'Decor', 'Bedding'] },
        { name: 'Beauty & Personal Care', displayName: 'Beauty & Personal Care', subCategories: ['Skincare', 'Haircare', 'Makeup', 'Fragrances', 'Grooming'] },
        { name: 'Sports & Outdoors', displayName: 'Sports & Outdoors', subCategories: ['Fitness', 'Camping', 'Cycling', 'Team Sports', 'Outdoor Gear'] },
        { name: 'Books, Movies & Music', displayName: 'Books, Movies & Music', subCategories: ['Books', 'Movies', 'Music', 'Video Games'] },
        { name: 'Toys & Games', displayName: 'Toys & Games', subCategories: ["Kid's Toys", 'Board Games', 'Puzzles', 'Action Figures'] },
        { name: 'Baby & Kids', displayName: 'Baby & Kids', subCategories: ['Baby Gear', 'Diapers', 'Feeding', 'Nursery', 'Kids Furniture'] },
        { name: 'Automotive & Tools', displayName: 'Automotive & Tools', subCategories: ['Car Parts', 'Auto Accessories', 'Hand Tools', 'Power Tools'] },
        { name: 'Health & Wellness', displayName: 'Health & Wellness', subCategories: ['Vitamins', 'Medical Devices', 'Personal Health', 'Fitness Trackers'] },
        { name: 'Pet Supplies', displayName: 'Pet Supplies', subCategories: ['Dog Food', 'Cat Food', 'Pet Toys', 'Grooming', 'Beds'] },
        { name: 'Office & Stationery', displayName: 'Office & Stationery', subCategories: ['Office Furniture', 'Desk Accessories', 'Printers', 'Stationery'] },
        { name: 'Security & Protection', displayName: 'Security & Protection', subCategories: ['Home Security', 'Personal Safety', 'CCTV', 'Alarms'] },
        { name: 'Lingerie & Loungewear', displayName: 'Lingerie & Loungewear', subCategories: ['Lingerie Sets', 'Pajamas', 'Robes', 'Underwear'] },
        { name: 'Special Occasion Costume', displayName: 'Special Occasion Costume', subCategories: ['Halloween', 'Cosplay', 'Party', 'Historical'] }
    ];

    // --- Global Constants ---
    const PLACEHOLDER_IMAGE_PATH = 'https://placehold.co/300x200/FF0000/FFFFFF?text=Image+Error';

    // --- DOM Element References ---
    const imallSearchInput = document.getElementById('imall-search-input');
    const imallSearchButton = document.getElementById('imall-search-button');
    const imallSearchSuggestions = document.getElementById('imall-search-suggestions');
    const categoriesNavLink = document.getElementById('categories-nav-link');
    const categoriesDropdown = document.getElementById('categories-dropdown');
    const cartItemCountSpan = document.getElementById('cart-item-count');
    const notificationMessageDiv = document.getElementById('notification-message');
    const currentYearSpan = document.getElementById('current-year');

    // iMall My Activity Page Specific Elements
    const cartTabButton = document.getElementById('cart-tab-button');
    const wishlistTabButton = document.getElementById('wishlist-tab-button');
    const cartContent = document.getElementById('cart-content');
    const wishlistContent = document.getElementById('wishlist-content');
    const cartItemsContainer = document.getElementById('cart-items-container');
    const wishlistItemsContainer = document.getElementById('wishlist-items-container');
    const cartTotalSpan = document.getElementById('cart-total');
    const emptyCartMessage = document.getElementById('empty-cart-message');
    const emptyWishlistMessage = document.getElementById('empty-wishlist-message');
    const checkoutButton = document.getElementById('checkout-button');

    // Checkout Modal Elements
    const checkoutModalOverlay = document.getElementById('checkout-modal-overlay');
    const checkoutModalCloseBtn = document.getElementById('checkout-modal-close-btn');
    const checkoutForm = document.getElementById('checkout-form');
    const checkoutSteps = [
        document.getElementById('checkout-step-1'),
        document.getElementById('checkout-step-2'),
        document.getElementById('checkout-step-3')
    ];
    const stepIndicators = [
        document.getElementById('step-1-indicator'),
        document.getElementById('step-2-indicator'),
        document.getElementById('step-3-indicator')
    ];
    const nextStep2Btn = document.getElementById('next-step-2');
    const prevStep1Btn = document.getElementById('prev-step-1');
    const nextStep3Btn = document.getElementById('next-step-3');
    const prevStep2Btn = document.getElementById('prev-step-2');
    const shippingLocalRadio = document.getElementById('shipping-local');
    const shippingDeliveryRadio = document.getElementById('shipping-delivery');
    const shippingCompanySection = document.getElementById('shipping-company-section');
    const shippingCompanySelect = document.getElementById('shipping-company');
    const orderTotalStep2 = document.getElementById('order-total-step-2');
    const finalTotalStep3 = document.getElementById('final-total-step-3');
    const placeOrderButton = document.getElementById('place-order-button');

    // Added for dynamic header positioning
    const mainHeader = document.getElementById('main-header');
    const imallSubheader = document.getElementById('imall-subheader');
    const imallMyActivityMainContent = document.getElementById('imall-my-activity-main-content');

    // --- State Variables ---
    let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    let wishlistItems = JSON.parse(localStorage.getItem('wishlistItems')) || [];
    let currentCheckoutStep = 0; // 0-indexed

    // --- Utility Functions ---

    /**
     * Handles image loading errors by replacing the src with a placeholder.
     * @param {HTMLImageElement} imageElement - The image element that failed to load.
     */
    function handleImageError(imageElement) {
        imageElement.onerror = null; // Prevent infinite loop
        imageElement.src = PLACEHOLDER_IMAGE_PATH;
    }

    /**
     * Displays a temporary notification message.
     * @param {string} messageText - The message to display.
     * @param {boolean} isSuccess - True for success (green), false for error (red).
     */
    function displayNotification(messageText, isSuccess = true) {
        if (notificationMessageDiv) {
            notificationMessageDiv.textContent = messageText;
            notificationMessageDiv.classList.remove('opacity-0', 'notification-fade-out', 'bg-green-500', 'bg-red-500');
            notificationMessageDiv.classList.add('opacity-100', isSuccess ? 'bg-green-500' : 'bg-red-500');

            setTimeout(() => {
                notificationMessageDiv.classList.remove('opacity-100');
                notificationMessageDiv.classList.add('opacity-0', 'notification-fade-out');
            }, 3000);
        }
    }

    /**
     * Updates the displayed count of items in the shopping cart icon.
     */
    function updateCartCount() {
        if (cartItemCountSpan) {
            const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
            cartItemCountSpan.textContent = totalItems;
            if (totalItems > 0) {
                cartItemCountSpan.classList.remove('hidden');
            } else {
                cartItemCountSpan.classList.add('hidden');
            }
        }
    }

    /**
     * Adds a product to the cart or increments its quantity if already present.
     * Updates localStorage and the cart count display.
     * @param {object} product - The product object to add.
     * @param {number} quantity - The quantity to add (defaults to 1).
     */
    function addToCart(product, quantity = 1) {
        const existingItemIndex = cartItems.findIndex(item => item.id === product.id);

        if (existingItemIndex > -1) {
            cartItems[existingItemIndex].quantity += quantity;
        } else {
            cartItems.push({ ...product, quantity: quantity });
        }
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        updateCartCount();
        displayNotification(`${quantity}x ${product.name} added to cart!`);
        renderCart(); // Re-render cart on this page if active
    }

    /**
     * Populates the iMall categories dropdown.
     */
    function populateCategoriesDropdown() {
        const allCategoriesLink = categoriesDropdown.querySelector('a[href="./imall-category.html?category=all"]');
        categoriesDropdown.innerHTML = '';
        if (allCategoriesLink) {
            categoriesDropdown.appendChild(allCategoriesLink);
        } else {
            const newAllCategoriesLink = document.createElement('a');
            newAllCategoriesLink.href = './imall-category.html?category=all';
            newAllCategoriesLink.className = 'font-bold';
            newAllCategoriesLink.textContent = 'All Categories';
            categoriesDropdown.appendChild(newAllCategoriesLink);
        }

        CATEGORY_DATA.forEach(cat => {
            const categoryLink = document.createElement('a');
            categoryLink.href = `./imall-category.html?category=${encodeURIComponent(cat.name)}`;
            categoryLink.textContent = cat.displayName;
            categoriesDropdown.appendChild(categoryLink);

            if (cat.subCategories && cat.subCategories.length > 0) {
                cat.subCategories.forEach(subCat => {
                    const subCategoryLink = document.createElement('a');
                    subCategoryLink.href = `./imall-category.html?category=${encodeURIComponent(cat.name)}&subCategory=${encodeURIComponent(subCat)}`;
                    subCategoryLink.textContent = ` ${subCat}`; // Indent subcategories
                    subCategoryLink.classList.add('pl-6', 'text-sm'); // Add padding for visual hierarchy
                    categoriesDropdown.appendChild(subCategoryLink);
                });
            }
        });
    }

    /**
     * Shows search suggestions for the iMall search bar.
     * @param {string} query - The search query.
     */
    function showSearchSuggestions(query) {
        imallSearchSuggestions.innerHTML = '';
        imallSearchSuggestions.classList.remove('show');

        if (query.length < 2) {
            return;
        }

        const lowerCaseQuery = query.toLowerCase();
        const suggestions = new Set();

        ALL_PRODUCTS.forEach(product => {
            if (product.name.toLowerCase().includes(lowerCaseQuery)) {
                suggestions.add(product.name);
            }
            if (product.brand.toLowerCase().includes(lowerCaseQuery)) {
                suggestions.add(product.brand);
            }
            if (product.category.toLowerCase().includes(lowerCaseQuery)) {
                suggestions.add(product.category);
            }
            if (product.subCategory && product.subCategory.toLowerCase().includes(lowerCaseQuery)) {
                suggestions.add(product.subCategory);
            }
        });

        const sortedSuggestions = Array.from(suggestions).sort();

        if (sortedSuggestions.length > 0) {
            sortedSuggestions.slice(0, 10).forEach(suggestion => {
                const suggestionItem = document.createElement('div');
                suggestionItem.classList.add('suggestion-item');
                suggestionItem.textContent = suggestion;
                suggestionItem.addEventListener('click', () => {
                    imallSearchInput.value = suggestion;
                    handleSearch();
                });
                imallSearchSuggestions.appendChild(suggestionItem);
            });
            imallSearchSuggestions.classList.add('show');
        }
    }

    /**
     * Hides the iMall search suggestions dropdown.
     */
    function hideSearchSuggestions() {
        imallSearchSuggestions.classList.remove('show');
    }

    /**
     * Handles the iMall search.
     */
    function handleSearch() {
        const query = imallSearchInput.value.trim();
        if (!query) {
            window.location.href = './imall-category.html?category=all';
            return;
        }
        window.location.href = `./imall-category.html?search=${encodeURIComponent(query)}`;
    }

    /**
     * Updates the position of the iMall subheader and the main content padding.
     */
    function updateLayoutPositions() {
        if (mainHeader && imallSubheader && imallMyActivityMainContent) {
            const mainHeaderHeight = mainHeader.offsetHeight;
            imallSubheader.style.top = `${mainHeaderHeight}px`;
            const totalStickyHeight = mainHeaderHeight + imallSubheader.offsetHeight;
            imallMyActivityMainContent.style.paddingTop = `${totalStickyHeight + 20}px`;
        }
    }

    // --- Cart Functions ---

    /**
     * Renders the items currently in the cart.
     */
    function renderCart() {
        cartItemsContainer.innerHTML = ''; // Clear existing items
        if (cartItems.length === 0) {
            emptyCartMessage.classList.remove('hidden');
            checkoutButton.disabled = true; // Disable checkout if cart is empty
        } else {
            emptyCartMessage.classList.add('hidden');
            checkoutButton.disabled = false; // Enable checkout if cart has items
            cartItems.forEach(item => {
                const product = ALL_PRODUCTS.find(p => p.id === item.id);
                if (product) {
                    const itemDiv = document.createElement('div');
                    itemDiv.classList.add('flex', 'items-center', 'space-x-4', 'border-b', 'border-gray-200', 'pb-4');
                    itemDiv.innerHTML = `
                        <img src="${product.images[0] || PLACEHOLDER_IMAGE_PATH}" alt="${product.name}" class="w-24 h-24 object-cover rounded-lg" onerror="handleImageError(this);">
                        <div class="flex-grow">
                            <h3 class="text-xl font-semibold text-gray-800">${product.name}</h3>
                            <p class="text-gray-600">Quantity: ${item.quantity}</p>
                            <p class="text-lg font-bold text-blue-600">$${(product.price * item.quantity).toFixed(2)}</p>
                        </div>
                        <button class="remove-from-cart-btn bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow-md transition-colors duration-300" data-product-id="${item.id}">
                            Remove
                        </button>
                    `;
                    cartItemsContainer.appendChild(itemDiv);
                }
            });
        }
        updateCartTotal();
    }

    /**
     * Removes an item from the cart.
     * @param {string} productId - The ID of the product to remove.
     */
    function removeFromCart(productId) {
        cartItems = cartItems.filter(item => item.id !== productId);
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        displayNotification('Item removed from cart.', true);
        renderCart();
        updateCartCount();
    }

    /**
     * Calculates and updates the total price of items in the cart.
     */
    function updateCartTotal() {
        const total = cartItems.reduce((sum, item) => {
            const product = ALL_PRODUCTS.find(p => p.id === item.id);
            return sum + (product ? product.price * item.quantity : 0);
        }, 0);
        cartTotalSpan.textContent = total.toFixed(2);
        orderTotalStep2.textContent = total.toFixed(2); // Update total in checkout step 2
        finalTotalStep3.textContent = total.toFixed(2); // Update total in checkout step 3
    }

    // --- Wishlist Functions ---

    /**
     * Renders the items currently in the wishlist.
     */
    function renderWishlist() {
        wishlistItemsContainer.innerHTML = ''; // Clear existing items
        if (wishlistItems.length === 0) {
            emptyWishlistMessage.classList.remove('hidden');
        } else {
            emptyWishlistMessage.classList.add('hidden');
            wishlistItems.forEach(item => {
                const product = ALL_PRODUCTS.find(p => p.id === item.id);
                if (product) {
                    const itemDiv = document.createElement('div');
                    itemDiv.classList.add('bg-gray-50', 'rounded-xl', 'shadow-md', 'p-4', 'flex', 'flex-col', 'items-center', 'text-center');
                    itemDiv.innerHTML = `
                        <img src="${product.images[0] || PLACEHOLDER_IMAGE_PATH}" alt="${product.name}" class="w-32 h-32 object-cover rounded-lg mb-3" onerror="handleImageError(this);">
                        <h3 class="text-lg font-semibold text-gray-800 mb-1 line-clamp-1">${product.name}</h3>
                        <p class="text-blue-600 font-bold mb-3">$${product.price.toFixed(2)}</p>
                        <div class="flex space-x-2 mt-auto">
                            <button class="add-to-cart-from-wishlist-btn bg-blue-500 hover:bg-blue-600 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-300" data-product-id="${item.id}">
                                Add to Cart
                            </button>
                            <button class="remove-from-wishlist-btn bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm transition-colors duration-300" data-product-id="${item.id}">
                                Remove
                            </button>
                        </div>
                    `;
                    wishlistItemsContainer.appendChild(itemDiv);
                }
            });
        }
    }

    /**
     * Removes an item from the wishlist.
     * @param {string} productId - The ID of the product to remove.
     */
    function removeFromWishlist(productId) {
        wishlistItems = wishlistItems.filter(item => item.id !== productId);
        localStorage.setItem('wishlistItems', JSON.stringify(wishlistItems));
        displayNotification('Item removed from wishlist.', true);
        renderWishlist();
    }

    /**
     * Moves an item from the wishlist to the cart.
     * @param {string} productId - The ID of the product to move.
     */
    function addWishlistItemToCart(productId) {
        const product = ALL_PRODUCTS.find(p => p.id === productId);
        if (product) {
            addToCart(product, 1); // Use existing addToCart function
            removeFromWishlist(productId); // Remove from wishlist after adding to cart
            displayNotification(`${product.name} moved to cart!`, true);
        }
    }

    // --- Checkout Modal Functions ---

    /**
     * Shows a specific step in the checkout process.
     * @param {number} stepIndex - The 0-indexed step to show.
     */
    function showCheckoutStep(stepIndex) {
        checkoutSteps.forEach((step, index) => {
            if (index === stepIndex) {
                step.classList.add('active');
            } else {
                step.classList.remove('active');
            }
        });
        stepIndicators.forEach((indicator, index) => {
            if (index === stepIndex) {
                indicator.classList.add('text-blue-600');
            } else {
                indicator.classList.remove('text-blue-600');
            }
        });
        currentCheckoutStep = stepIndex;
        updateCartTotal(); // Ensure totals are updated on step change
    }

    /**
     * Opens the checkout modal.
     */
    function openCheckoutModal() {
        if (cartItems.length === 0) {
            displayNotification('Your cart is empty. Please add items before checking out.', false);
            return;
        }
        checkoutModalOverlay.classList.add('active');
        showCheckoutStep(0); // Start at the first step
    }

    /**
     * Closes the checkout modal.
     */
    function closeCheckoutModal() {
        checkoutModalOverlay.classList.remove('active');
        checkoutForm.reset(); // Clear form fields
        shippingCompanySelect.disabled = true; // Reset shipping company dropdown
        shippingLocalRadio.checked = true; // Reset to local pickup
    }

    /**
     * Handles navigation to the next checkout step.
     */
    function goToNextStep() {
        if (currentCheckoutStep < checkoutSteps.length - 1) {
            // Basic validation for current step before proceeding
            if (currentCheckoutStep === 0) { // Validate Step 1: User Details
                const fullName = document.getElementById('full-name').value.trim();
                const email = document.getElementById('email').value.trim();
                const address = document.getElementById('address').value.trim();
                if (!fullName || !email || !address) {
                    displayNotification('Please fill in all your details.', false);
                    return;
                }
                if (!/\S+@\S+\.\S+/.test(email)) {
                    displayNotification('Please enter a valid email address.', false);
                    return;
                }
            } else if (currentCheckoutStep === 1) { // Validate Step 2: Shipping Method
                const selectedShippingMethod = document.querySelector('input[name="shipping-method"]:checked').value;
                if (selectedShippingMethod === 'delivery' && !shippingCompanySelect.value) {
                    displayNotification('Please select a shipping company.', false);
                    return;
                }
            }
            showCheckoutStep(currentCheckoutStep + 1);
        }
    }

    /**
     * Handles navigation to the previous checkout step.
     */
    function goToPreviousStep() {
        if (currentCheckoutStep > 0) {
            showCheckoutStep(currentCheckoutStep - 1);
        }
    }

    /**
     * Handles the final order placement.
     * @param {Event} event - The form submission event.
     */
    function placeOrder(event) {
        event.preventDefault(); // Prevent default form submission

        // Collect all form data
        const formData = new FormData(checkoutForm);
        const orderDetails = {};
        for (let [key, value] of formData.entries()) {
            orderDetails[key] = value;
        }
        orderDetails.cart = cartItems;
        orderDetails.totalAmount = parseFloat(finalTotalStep3.textContent);
        orderDetails.timestamp = new Date().toISOString();

        console.log('Order placed:', orderDetails); // Log order details for now

        displayNotification('Order placed successfully! Thank you for your purchase.', true);

        // Reset cart and local storage
        cartItems = [];
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        renderCart(); // Update UI
        updateCartCount(); // Update cart icon count

        closeCheckoutModal(); // Close the modal
    }

    // --- Event Listeners and Initial Setup ---
    document.addEventListener('DOMContentLoaded', () => {
        // Set current year in footer
        currentYearSpan.textContent = new Date().getFullYear();

        // Initialize cart and wishlist
        renderCart();
        renderWishlist();
        updateCartCount(); // Ensure cart count is updated on page load

        // Populate iMall categories dropdown (for subheader)
        populateCategoriesDropdown();

        // --- Header and Subheader Layout Adjustment ---
        updateLayoutPositions();
        window.addEventListener('resize', updateLayoutPositions);
        const observer = new MutationObserver(updateLayoutPositions);
        if (mainHeader) {
            observer.observe(mainHeader, { attributes: true, childList: true, subtree: true });
        }

        // --- Tab Switching ---
        cartTabButton.addEventListener('click', () => {
            cartTabButton.classList.add('active');
            wishlistTabButton.classList.remove('active');
            cartContent.classList.add('active');
            wishlistContent.classList.remove('active');
            renderCart(); // Re-render cart when tab is active
        });

        wishlistTabButton.addEventListener('click', () => {
            wishlistTabButton.classList.add('active');
            cartTabButton.classList.remove('active');
            wishlistContent.classList.add('active');
            cartContent.classList.remove('active');
            renderWishlist(); // Re-render wishlist when tab is active
        });

        // --- Cart Item Removal (Delegated Event) ---
        cartItemsContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('remove-from-cart-btn')) {
                const productId = event.target.dataset.productId;
                removeFromCart(productId);
            }
        });

        // --- Wishlist Item Actions (Delegated Event) ---
        wishlistItemsContainer.addEventListener('click', (event) => {
            if (event.target.classList.contains('remove-from-wishlist-btn')) {
                const productId = event.target.dataset.productId;
                removeFromWishlist(productId);
            } else if (event.target.classList.contains('add-to-cart-from-wishlist-btn')) {
                const productId = event.target.dataset.productId;
                addWishlistItemToCart(productId);
            }
        });

        // --- Checkout Modal Events ---
        checkoutButton.addEventListener('click', openCheckoutModal);
        checkoutModalCloseBtn.addEventListener('click', closeCheckoutModal);
        checkoutModalOverlay.addEventListener('click', (event) => {
            if (event.target === checkoutModalOverlay) {
                closeCheckoutModal();
            }
        });

        // Checkout Step Navigation
        nextStep2Btn.addEventListener('click', goToNextStep);
        prevStep1Btn.addEventListener('click', goToPreviousStep);
        nextStep3Btn.addEventListener('click', goToNextStep);
        prevStep2Btn.addEventListener('click', goToPreviousStep);

        // Shipping Method Logic
        shippingLocalRadio.addEventListener('change', () => {
            shippingCompanySelect.disabled = true;
            shippingCompanySelect.value = ''; // Clear selection
            updateCartTotal(); // Update total (no shipping cost)
        });
        shippingDeliveryRadio.addEventListener('change', () => {
            shippingCompanySelect.disabled = false;
            updateCartTotal(); // Update total (shipping cost might be added later if implemented)
        });

        // Final Order Placement
        checkoutForm.addEventListener('submit', placeOrder);

        // --- Main site header search and category dropdown (copied from imall-main-page) ---
        // Categories Dropdown Toggle
        categoriesNavLink.addEventListener('mouseenter', () => categoriesDropdown.classList.add('show'));
        categoriesNavLink.addEventListener('mouseleave', (e) => {
            if (!categoriesDropdown.contains(e.relatedTarget)) {
                categoriesDropdown.classList.remove('show');
            }
        });
        categoriesDropdown.addEventListener('mouseleave', () => categoriesDropdown.classList.remove('show'));

        // iMall Search input for suggestions
        imallSearchInput.addEventListener('input', (event) => showSearchSuggestions(event.target.value));
        imallSearchInput.addEventListener('keypress', (event) => {
            if (event.key === 'Enter') {
                handleSearch();
            }
        });
        imallSearchButton.addEventListener('click', handleSearch);

        // Hide iMall suggestions when clicking outside search bar/suggestions
        document.addEventListener('click', (event) => {
            if (!imallSearchInput.contains(event.target) && !imallSearchSuggestions.contains(event.target) && !imallSearchButton.contains(event.target)) {
                hideSearchSuggestions();
            }
        });
    });
</script>
<!-- Existing Chamber Scripts (main.js is expected to handle global header functionality) -->
<script src ="scripts/main.js"></script>
</body>
</html>
